**Change Request: CR‑010 – Open‑Science Reference Package & Reproducible Demo for H3LIX / LAIZA**

---

## 1. Objective

Turn everything from **CR‑001–CR‑009** into a **reproducible open‑science package** so that:

1. Other labs can run the core H3LIX/LAIZA stack (Somatic–Symbolic–Noetic + MPG + RV + MUFS + policies) with minimal setup.  [oai_citation:0‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
2. The **MPG‑Intuition experiments** (E1–E3 from CR‑009) can be reproduced from a single command, using synthetic + anonymized/demo data.  [oai_citation:1‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
3. The whole thing is **containerized, documented, and versioned**, with clear ethical guidance around digital phenotyping and privacy.  [oai_citation:2‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

Think “H3LIX Demo Lab”: a Docker‑based stack + configs + demo datasets + notebooks that replicate the basic figures/claims (MPG structure, RVs, MUFS, coherence vs performance).

---

## 2. Scope

### In scope

- A **public‑style repo layout** (even if private for now) with:
  - `src/` – core Python modules (somatic, symbolic/LAIZA, noetic, MPG/RV/MUFS, policy, meta‑policy).  
  - `api/` – FastAPI services from earlier CRs.  
  - `scripts/` – ETL, training, SHAP RV, potency, MUFS search, experiment runner.  
  - `configs/` – experiment configs (E1–E3 at least).  
  - `docker/` – Dockerfiles, `docker-compose.yml`.  
  - `datasets/` – synthetic + demo data.  
  - `analysis/` – Jupyter notebooks that generate key plots.  
  - `docs/` – all CRs + architecture/experiment docs.

- Dockerized deployment:
  - Neo4j + API + worker container(s).  
  - Optional Jupyter/VSCode container for notebooks.

- A **demo dataset**:
  - System‑only trials (no real people) that exercise MPG, RVs, MUFS, coherence, policies.  
  - Optional small **anonymized human‑like sample**, or a clearly marked synthetic approximation of the human experiments in Sec. 6.  [oai_citation:3‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

- A **single‑command pipeline**:
  - `make demo` or `python -m experiments.run e1_mpg_intuition.yaml` that:
    - spins up containers,  
    - loads demo data,  
    - runs E1–E3,  
    - produces metric tables + plots.

### Out of scope

- Publishing actual real‑participant data (too risky for privacy; use synthetic or heavily anonymized examples only).  [oai_citation:4‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Full production‑grade observability (just enough logging for reproducibility).

---

## 3. Repository structure

Target layout:

```text
h3lix-open/
  src/
    core/
    somatic/
    symbolic/
    noetic/
    mpg/
    rv/
    mufs/
    policy/
    meta_policy/
  api/
    mpg_api.py
    human_api.py
    collective_api.py
    policy_api.py
  scripts/
    mpg_demo.py
    mpg_rv_shap_demo.py
    mpg_potency_index.py
    mufs_search_demo.py
    collective_mpg_build.py
    collective_coherence.py
    experiments/
      registry.py
      runner.py
  configs/
    e1_mpg_intuition.yaml
    e2_coherence.yaml
    e3_rv_ablation.yaml
  datasets/
    synthetic_system_v1/
    synthetic_human_v1/
  analysis/
    e1_e2_intuition_coherence.ipynb
    e3_rv_ablation.ipynb
  docker/
    Dockerfile.api
    Dockerfile.worker
    Dockerfile.jupyter
    docker-compose.yml
  docs/
    CR-001-...md
    ...
    CR-010-Open-Science-Package.md
    SETUP.md
    ETHICS_PRIVACY.md
    EXPERIMENTS.md
  tests/
    test_mpg.py
    test_rv.py
    test_mufs.py
    test_api.py
  Makefile
  pyproject.toml / setup.cfg
  README.md
```

---

## 4. Containerization & deployment

### 4.1 Docker images

Create:

- `h3lix-api` – FastAPI + Neo4j client + experiment runner.  
- `h3lix-worker` – background scripts (MPG build, RV SHAP, potency, MUFS).  
- `h3lix-notebooks` – Jupyter with analysis env.

Example `docker-compose.yml` skeleton:

```yaml
version: "3.9"
services:
  neo4j:
    image: neo4j:5
    environment:
      - NEO4J_AUTH=neo4j/password
    ports:
      - "7474:7474"
      - "7687:7687"
    volumes:
      - neo4j_data:/data

  api:
    build:
      context: .
      dockerfile: docker/Dockerfile.api
    depends_on:
      - neo4j
    ports:
      - "8000:8000"
    environment:
      - NEO4J_URI=bolt://neo4j:7687
      - NEO4J_USER=neo4j
      - NEO4J_PASSWORD=password

  worker:
    build:
      context: .
      dockerfile: docker/Dockerfile.worker
    depends_on:
      - neo4j
    environment:
      - NEO4J_URI=bolt://neo4j:7687
      - NEO4J_USER=neo4j
      - NEO4J_PASSWORD=password

  notebooks:
    build:
      context: .
      dockerfile: docker/Dockerfile.jupyter
    depends_on:
      - neo4j
    ports:
      - "8888:8888"
    environment:
      - NEO4J_URI=bolt://neo4j:7687
      - NEO4J_USER=neo4j
      - NEO4J_PASSWORD=password

volumes:
  neo4j_data:
```

Top‑level commands:

- `docker compose up` – full stack.  
- `make demo` – build images, start stack, run demo experiment set.

---

## 5. Demo datasets

The paper is explicit about **digital phenotyping** risks and the need for careful safety/privacy and preregistration.  [oai_citation:5‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### 5.1 Synthetic system dataset

Create `datasets/synthetic_system_v1`:

- Trials with:
  - inputs (features, MPG segments)  
  - outcomes (correct/incorrect; reward)  
  - RV labels (from SHAP on synthetic models, as in CR‑002).  
  - SegmentState histories (for Potency / coherence stub values).  
  - Precomputed MUFS for a subset of trials.

Use this to show:

- construction of layered MPG (Fig. 1–3 in the paper),  [oai_citation:6‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- RV detection via Shapley + 3σ,  [oai_citation:7‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Potency factors,  
- MUFS search & MPG‑Intuition labels.

### 5.2 Synthetic “human” dataset

`datasets/synthetic_human_v1`:

- Participant/session/trial tables that mimic Sec. 6 human experiments:
  - full vs restricted awareness,  
  - self‑reported intuition/confidence,  
  - simulated somatic summaries (simple HR/EDA patterns),  
  - awareness checks.

These can be **generated** by scripts so no real data is embedded, but the analysis notebooks show exactly how one would process real human data.

---

## 6. Reproducible experiment pipeline

Hook CR‑009 experiments into a **single CLI**:

```bash
# Generic runner
python -m scripts.experiments.runner configs/e1_mpg_intuition.yaml

# All demo experiments
make run-e1
make run-e2
make run-e3
```

Runner responsibilities:

1. Create `:Experiment` / `:ExperimentCondition` / `:ExperimentRun` in Neo4j.  
2. For each run:
   - Seed RNGs, initialize Mirror Core variant (C0–C5).  
   - Loop over demo trials.  
   - Invoke MPG, RV, MUFS, coherence, policy as configured.  
   - Log per‑trial results (or aggregate into `:MetricResult`).  
3. Save a JSON/Parquet summary in `results/E1/...`.

Analysis notebooks should:

- Connect to Neo4j or read `results/` files.  
- Reproduce **key plots**:
  - small MPG schematics like Fig. 1–3 (per‑participant MPG vs segments vs contradictions).  [oai_citation:8‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
  - coherence vs accuracy/calibration curves.  
  - MUFS incidence vs condition.  
  - RV Potency ablation effects.

---

## 7. Testing & CI

Add a minimal test suite:

- `test_mpg.py` – Layer‑Type Graph creation & Lift operator vs definitions 1–4.  [oai_citation:9‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- `test_rv.py` – Shapley → RV detection obeying Eq. (2–4).  [oai_citation:10‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- `test_mufs.py` – MUFS search returns minimal flip sets (Def. 7).  [oai_citation:11‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- `test_api.py` – basic health checks for core endpoints.

CI (GitHub Actions / GitLab) runs:

- `pytest` on core modules.  
- `docker compose build` to ensure images build.  
- Optionally a tiny smoke test: run a 10‑trial E1 config and verify metrics exist.

---

## 8. Ethics, licensing & documentation

### 8.1 Ethics & privacy doc

Create `docs/ETHICS_PRIVACY.md` that summarizes:

- Digital phenotyping warnings and safety considerations (straight from Sec. 4 & 7).  [oai_citation:12‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Requirements before using **real** human data:
  - IRB/ethics approval.  
  - Explicit consent for multimodal traces.  
  - Pseudonymization.  
  - Clear retention/deletion policies.  
- Statement that the **demo package ships with synthetic data only**.

### 8.2 Licensing

- Code: e.g. Apache‑2.0 or MIT (if/when you open‑source).  
- Data: CC‑BY or CC‑BY‑NC for synthetic sets, with “no real human traces” guarantee.  
- Explicit note that the architecture itself is associated with the provisional patent mentioned in the paper; use appropriate IP language.  [oai_citation:13‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### 8.3 Docs

- `README.md` – quickstart (Docker, demo run, notebooks).  
- `SETUP.md` – local vs Docker setup details.  
- `EXPERIMENTS.md` – overview of E1–E3 and how they map onto Sections 5–6 of the paper.  [oai_citation:14‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

---

## 9. Acceptance criteria

CR‑010 is done when:

1. **Repo & containers**
   - The `h3lix-open/` repo exists with the structure above.  
   - `docker compose up` + `make demo` successfully spin up Neo4j + API + workers and run at least one demo experiment.

2. **Demo experiments reproducible**
   - At least E1 (MPG‑Intuition/MUFS) and E2 (coherence vs performance) work end‑to‑end:
     - load synthetic data,  
     - run configured conditions,  
     - write metrics to Neo4j + result files,  
     - produce plots via notebooks.

3. **Key paper constructs visible**
   - It’s possible, from the repo + notebooks, to see:
     - an MPG hierarchy with segments & lifted graphs as in Fig. 1–2,  
     - small “contradiction” segments surfacing as important (like Fig. 3),  [oai_citation:15‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
     - RV detection and Potency rankings,  
     - MUFS & MPG‑Intuition labels under restricted awareness.

4. **Docs & ethics**
   - `ETHICS_PRIVACY.md`, `EXPERIMENTS.md`, and CR‑010 doc exist and clearly link back to the theoretical sections on MPG, RVs, MUFS, coherence, experimental strategy, and privacy concerns.  [oai_citation:16‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

5. **Repeatability**
   - Running the same config with the same seeds yields matching metrics (within stochastic noise).  
   - The whole stack can be run by someone who only has Docker and Python installed, following the docs.

---

If you want to go even beyond CR‑010, the natural “CR‑011” would be **externalization & collaboration**: hosting the demo dataset + configs on a public platform (e.g., OSF + a dataset hub), adding submission hooks so other groups can upload their own MPG‑Intuition results, and defining a common leaderboard for architectures tested under the same LAIZA/H3LIX protocol.
