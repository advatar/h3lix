**Change Request: CR‑107 – Clinical Protocol Templates & SORK‑N Programs for H3LIX**  [oai_citation:0‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

---

## 1. Objective

Turn H3LIX into a **library of reusable clinical/coaching protocols** by:

1. Encoding specific, evidence‑based **SORK‑N programs** (e.g. CBT‑style protocols for social anxiety, insomnia, decision fatigue) as **templates** that map directly onto MPG segments and interventions.  [oai_citation:1‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
2. Letting clinicians instantiate these templates per participant, so H3LIX can:
   - generate **InterventionPlans**,  
   - schedule tasks in the KMP app,  
   - track Somatic / Symbolic / Noetic changes across sessions.  
3. Using RVs, Potency, MUFS, and coherence as **progress markers** within these protocols, not just free‑floating analytics.  [oai_citation:2‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

CR‑107 builds on CR‑101–106 and makes the system usable as a **structured, protocol‑guided assistant** rather than a purely open‑ended lab instrument.

---

## 2. Scope

### In scope (v1)

- A **protocol template model** that expresses:

  - SORK‑N formulation for a condition/problem,  
  - intended MPG segments & pathways (target structures),  
  - modules/steps with associated tasks (in‑session + homework),  
  - outcome measures (scales, behavior metrics, coherence/RV metrics).

- Neo4j schema additions for:

  - `:ClinicalProtocol`, `:ProtocolModule`, `:ProtocolStep`, `:OutcomeMeasure`.

- At least **three example protocols** wired end‑to‑end:

  1. **Social anxiety / performance anxiety**  
  2. **Insomnia / sleep dysregulation**  
  3. **Decision fatigue / overcommitment & burnout**

- Integration with:

  - `:ClinicalSession`, `:InterventionPlan`, `:Segment`, `:Trial` (CR‑106).  
  - KMP tasks (CR‑102) and participant cockpit (CR‑104).  
  - Research console (CR‑105) for tracking protocol‑level outcomes.

### Out of scope

- Acting as a regulated medical device or providing diagnoses.  
- Implementing full textbook CBT manuals; we encode **lightweight, research‑friendly versions** that clinicians can adapt.

---

## 3. Protocol template model

Each protocol is a **template** that can be cloned per participant.

### 3.1 Neo4j schema

New labels:

- `:ClinicalProtocol` – the template itself.  
- `:ProtocolModule` – phase/module (e.g. “Psychoeducation”, “Exposure”).  
- `:ProtocolStep` – concrete step or exercise type.  
- `:OutcomeMeasure` – things you track across the protocol.

Constraints:

```cypher
CREATE CONSTRAINT clinical_protocol_id IF NOT EXISTS
FOR (p:ClinicalProtocol) REQUIRE p.id IS UNIQUE;

CREATE CONSTRAINT protocol_module_id IF NOT EXISTS
FOR (m:ProtocolModule) REQUIRE m.id IS UNIQUE;

CREATE CONSTRAINT protocol_step_id IF NOT EXISTS
FOR (s:ProtocolStep) REQUIRE s.id IS UNIQUE;

CREATE CONSTRAINT outcome_measure_id IF NOT EXISTS
FOR (o:OutcomeMeasure) REQUIRE o.id IS UNIQUE;
```

Relationships:

```text
(:ClinicalProtocol)-[:HAS_MODULE]->(:ProtocolModule)
(:ProtocolModule)-[:HAS_STEP]->(:ProtocolStep)

(:ClinicalProtocol)-[:RECOMMENDS_OUTCOME]->(:OutcomeMeasure)
(:ProtocolModule)-[:TARGETS_SEGMENT_TEMPLATE]->(:SegmentTemplate?)  // or just ref by name

(:ClinicalProtocol)-[:INSTANTIATED_AS]->(:InterventionPlan)
(:InterventionPlan)-[:FOLLOWS_PROTOCOL]->(:ClinicalProtocol)
(:InterventionPlan)-[:USES_MODULE]->(:ProtocolModule)
(:InterventionPlan)-[:USES_STEP]->(:ProtocolStep)

(:OutcomeMeasure)-[:MEASURES_SEGMENT]->(:Segment)       // when instantiated
(:OutcomeMeasure)-[:MEASURES_TRIAL]->(:Trial)
```

You can either define separate `:SegmentTemplate` nodes or treat “target structures” as **named patterns** that get matched to actual MPG segments when a protocol is instantiated.

### 3.2 ProtocolTemplate fields

`ClinicalProtocol` properties:

```text
id
name
target_condition: "SOCIAL_ANXIETY" | "INSOMNIA" | "DECISION_FATIGUE" | ...
description
sorkn_focus: {
  S: [string],  // typical stimulus classes
  O: [string],  // organismic variables (beliefs, states)
  R: [string],  // responses
  K: [string],  // consequences
  N: [string]   // noetic targets (coherence patterns, RV reductions)
}
risk_tier: "LOW" | "MEDIUM"
status: "TEMPLATE" | "DEPRECATED"
```

`ProtocolModule` (per protocol):

```text
id
name: "Psychoeducation", "Monitoring", "Exposure", "Sleep Scheduling", ...
order_index: int
description
goal_summary
duration_sessions_estimate
```

`ProtocolStep` (per module):

```text
id
name
step_type: "IN_SESSION_EXERCISE" | "HOMEWORK_TASK" | "ASSESSMENT"
kmp_task_template_id: string | null   // maps to MobileTrialConfig / task template
suggested_repetitions: int
notes_for_clinician
```

`OutcomeMeasure`:

```text
id
name
domain: "SYMPTOM" | "FUNCTION" | "COHERENCE" | "RV" | "MPG_INTUITION"
scale_type: "LIKERT" | "BINARY" | "CONTINUOUS" | "INDEX"
collection_mode: "SELF_REPORT" | "CLINICIAN_RATED" | "PASSIVE_STREAM"
target_frequency: "EACH_SESSION" | "WEEKLY" | "BLOCK_START_END"
```

---

## 4. Example protocol templates (v1)

### 4.1 Protocol A – Social Anxiety / Performance Anxiety

**SORK‑N template**  [oai_citation:3‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

- **S** (Stimuli): social situations, speaking up, performance reviews, presentations.  
- **O** (Organism): beliefs about social evaluation (“I will be humiliated”), mental imagery, somatic reactions (HR, sweating).  
- **R** (Response): avoidance, safety behaviors, rumination.  
- **K** (Consequence): short‑term relief, long‑term isolation, missed opportunities.  
- **N** (Noetic targets):
  - ability to sustain moderate coherence in social exposures,  
  - reduction in Potency of “social threat” segments (RVs),  
  - improved intuition calibration about social outcomes (MPG‑Intuition episodes that are *accurate*).

**Modules:**

1. *Psychoeducation & case mapping*  
   - Steps:  
     - “SORK map for social situations” (in‑session SORK drawing + MPG segments).  
     - “Somatic awareness” (link HRV/EDA changes to specific social triggers).  [oai_citation:4‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

2. *Monitoring & belief tracking*  
   - Homework tasks in KMP app:
     - brief check‑ins before/after social interactions:
       - anxiety rating, predicted vs actual outcome, intuition rating.  
     - Somatic features collected around those events (heart rate, motion).

3. *Exposure & behavioral experiments*  
   - In‑session exposures (graded tasks).  
   - Homework exposures pushed via app with:
     - decision tasks (“Do A or B in this situation?”),  
     - immediate outcome & self‑report.

4. *Consolidation & relapse prevention*

**Outcome measures:**

- Symptom: self‑report social anxiety score & avoidance frequency.  
- Function: number of meaningful social situations attempted per week.  
- Coherence: average C(t) during exposures vs baseline.  [oai_citation:5‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- MPG/RV: Potency of “social threat” segment, number of RVs tied to social loops.  [oai_citation:6‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Intuition: performance of MPG‑Intuitive vs non‑intuitive decisions in social tasks.

---

### 4.2 Protocol B – Insomnia / Sleep Dysregulation

**SORK‑N template**  [oai_citation:7‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

- **S**: bedtime, screens, stressors late in the day.  
- **O**: beliefs about sleep (“If I don’t fall asleep, tomorrow is ruined”), somatic hyperarousal (HRV, EDA).  
- **R**: late‑night scheduling, doomscrolling, naps.  
- **K**: fatigue, cognitive fog, irritability.  
- **N**:  
  - improved coherence between Somatic sleep markers & behavior patterns,  
  - reduced Potency of “sleep catastrophe” segments,  
  - more reliable intuitive judgment about sleep strategies.

**Modules (short):**

1. *Sleep profiling* (monitoring via wearable + nightly KMP check‑ins).  
2. *Behavioral restructuring* (sleep hygiene, consistent schedule, reducing safety behaviors).  
3. *Cognitive restructuring* (belief challenges, worry time scheduling).  
4. *Maintenance*.

Outcome measures include sleep onset latency, wake after sleep onset, HRV variability at night, and coherence between Somatic and self‑report.

---

### 4.3 Protocol C – Decision Fatigue / Overcommitment

Anchored in **decision calibration**, very aligned with MPG‑Intuition experiments.  [oai_citation:8‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

- **S**: frequent decisions, multi‑tasking, notifications.  
- **O**: beliefs about obligation/perfectionism, fear of missing out.  
- **R**: saying “yes” too often, shallow/no consideration, procrastination.  
- **K**: burnout, errors, regret.  
- **N**:
  - recognition of low‑coherence / high RV states as “do not decide now”,  
  - improved calibration between confidence & outcomes,  
  - increased share of decisions made in high‑coherence, MPG‑Intuitive states that *actually* perform well.

Modules:

1. *Decision tracing*: KMP app logs daily decisions with confidence, Somatic features around them.  
2. *Calibration exercises*: structured decision tasks (CR‑009/E1 style) with immediate feedback.  
3. *Bounded commitment & prioritization*: introduce rules and policies (e.g., max daily major decisions).  
4. *Meta‑decision training*: learning to defer or seek support when coherence low or Potent RVs active.

---

## 5. Instantiation workflow

### 5.1 From template to Interventions

When a clinician selects a protocol for a participant:

1. Console calls `POST /clinical/protocols/{id}/instantiate` with `participant_id`.  
2. Backend:

   - Creates an `:InterventionPlan` node linked to the `:ClinicalProtocol`.  
   - Binds **ProtocolModules** & **ProtocolSteps** into the plan.  
   - Matches template target segments to actual MPG segments via:
     - name/embedding similarity,  
     - existing SORK mapping from prior sessions.  [oai_citation:9‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

3. Creates concrete KMP task templates (MobileTrialConfigs) for each homework/experiment step and pushes them to the participant’s app.

### 5.2 Tracking progress

Per participant & protocol:

- `:OutcomeMeasure` instances collect:

  - self‑report (via app or clinician form),  
  - passive Somatic metrics (from CR‑101/102),  
  - structural metrics (RV counts, Potency, coherence) from MPG.  [oai_citation:10‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

- Analytic notebooks and console views aggregate:

  - symptom change,  
  - coherence change,  
  - RV/Potency change,  
  - MPG‑Intuition vs non‑intuitive decisions.

---

## 6. Safety & ethics in clinical templates

- All templates:

  - emphasize **low‑risk, standard CBT‑style interventions**; nothing extreme.  
  - avoid prompts that directly address high‑risk content (self‑harm, trauma) unless clinician explicitly extends the template.

- For high Potency + high affective load segments:

  - console flags risk and suggests **slower, more contained experiments**,  
  - guided mode (CR‑106) always leaves final call to clinician.

- Templates include **disclaimers**:

  - they are research tools; not substitutes for clinical training or guidelines.

---

## 7. Implementation steps

1. **Schema**: Add `:ClinicalProtocol`, `:ProtocolModule`, `:ProtocolStep`, `:OutcomeMeasure` and relationships to `:InterventionPlan`, `:ClinicalSession`, `:Segment`.  
2. **Template definitions**: Author YAML/JSON protocol templates for A/B/C (social anxiety, insomnia, decision fatigue) and write ETL script to load them into Neo4j.  
3. **APIs**:

   - `/clinical/protocols` – list templates, view details.  
   - `/clinical/protocols/{id}/instantiate` – create `:InterventionPlan` for participant.  
   - `/clinical/protocols/{id}/progress` – aggregate outcome measures and MPG metrics.

4. **KMP integration**:

   - Extend mobile app to fetch assigned tasks per protocol and present them in appropriate schedule.  
   - Ensure completed tasks produce `:Trial` + Somatic + Symbolic data feeding MPG and Noetic layer.

5. **Console integration**:

   - Add “Protocols” section in clinician console (CR‑105) to select, instantiate, and monitor protocols.  
   - Preconfigure views for each protocol’s key metrics (symptom, function, coherence, RV/Potency, MPG‑Intuition incidence).

6. **Pilot**:

   - Dry‑run each protocol with synthetic or internal test users to verify wiring.  
   - Then small, ethics‑approved pilot with real participants for at least one protocol.

---

## 8. Acceptance criteria

CR‑107 is complete when:

1. Neo4j contains **protocol templates** (A/B/C) with modules, steps, and outcome measures.  
2. Clinicians can instantiate a protocol for a participant, generating an `:InterventionPlan` and associated KMP tasks.  
3. Data from protocol‑driven tasks flows through Somatic, Symbolic, Noetic, MPG, RV, MUFS pipelines, and appears in:

   - ClinicalSession views (CR‑106),  
   - Participant cockpit (CR‑104),  
   - Research console experiment views (CR‑105/CR‑009).  [oai_citation:11‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

4. For at least one protocol (e.g., social anxiety):

   - you can see **pre‑ vs post‑** changes in symptom measures, coherence, RV Potency of target segments, and MPG‑Intuition performance;  
   - these changes are queryable and visualizable per participant and across participants.  

5. Documentation:

   - `docs/CR-107-Clinical-Protocols-and-SORKN-Templates.md` explains how templates map onto SORK‑N, MPG, RVs, MUFS, and coherence, with examples pulled from the implemented protocols.  [oai_citation:12‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

If you want to keep going after CR‑107, a natural **CR‑108** would be about **automated protocol personalization**: learning when to advance / slow modules, which steps to emphasize, and how to adapt the template using RV & coherence feedback while keeping the clinician fully in charge.
