**Change Request: CR‑104 – Participant “Personal Cockpit” & Intuition Diary (KMP + Web)**  

---

## 1. Objective

Give **real humans** a first‑class, privacy‑first interface into their own H3LIX data so they can:

1. See a **digestible slice of their MPG** (segments, RVs, coherence episodes) with provenance, not raw graphs.  [oai_citation:0‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
2. Review and annotate **intuition episodes** (MPG‑Intuition + MUFS trials) and self‑reports.  [oai_citation:1‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
3. Control **data scopes, streaming sources, and interventions** (N→S′ policy actions) in a transparent way.  [oai_citation:2‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

This turns participants into **co‑governors** of their MPG, aligning with the paper’s emphasis on provenance, governance, and digital phenotyping safeguards.  [oai_citation:3‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

---

## 2. Scope

### In scope

- A **Kotlin Multiplatform (KMP)** front‑end module (reusing the existing mobile app from CR‑101/102) for:
  - Personal timeline & daily summaries.
  - Intuition diary & trial review (from CR‑005/102).
  - Controls for scopes, sources, and intervention settings.
- A minimal **web cockpit** (e.g., Kotlin/JS or React) for larger‑screen MPG views.
- Backend APIs for:
  - Fetching per‑participant summaries (segments, RVs, coherence, MUFS).
  - Updating consent/scope flags and intervention preferences.
  - Requesting structural edits (e.g., “hide this segment”, “relabel this theme”), consistent with MPG dynamics (localize → roll up → restructure → project down).  [oai_citation:4‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### Out of scope

- Full graph‑editing power for end‑users (only curated, bounded editing operations).  
- Clinician/researcher dashboards (CR‑105).

---

## 3. UX flows

### 3.1 Home / Today screen (KMP app)

Components:

- **Somatic snapshot**:
  - HRV, arousal markers, activity level (from Somatic summaries).  [oai_citation:5‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- **Coherence indicator**:
  - A simple 0–1 bar or traffic light showing average coherence `C(t)` over the last few hours/day.  [oai_citation:6‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- **Events**:
  - List of “episodes”:
    - experimental trials,
    - emails/chats/meetings clusters,
    - media sessions (audio/video) that led to MPG updates.  

Tapping an episode opens a **detail view**.

### 3.2 Intuition diary

For each trial/episode with:

- `Trial.mpg_intuitive == true` or user‑labeled intuitive:
  - show:
    - task summary (no raw stimuli if sensitive),
    - system MUFS status (exists, size, IU/PU/MIX),
    - coherence at that time,
    - correctness & calibration.  [oai_citation:7‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
  - ask:
    - “Did this decision feel intuitive?” (0–1 slider).
    - Optional free‑text note.

These are stored as `:SelfReport` nodes (CR‑005), enriching Noetic analysis of intuition.  [oai_citation:8‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### 3.3 MPG “glimpse” views

We don’t show raw graphs; we show **clustered segments**:

- Top 3–5 **segments** by importance and/or Potency:
  - e.g., “Work project A”, “Relationship with X”, “Health & sleep pattern”.
- For each:
  - short textual summary,
  - rough valence/intensity (from `m(v)`),  [oai_citation:9‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
  - key evidence sources (“mostly from emails + Somatic stress around 10–12am”),
  - RV/Potency flags if segment is a Rogue structure.  [oai_citation:10‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

User options per segment:

- “Seems right”, “Not quite”, or “Hide this”.  
- Add tag/rename (“call this ‘Grad school stress’”).  
- For “Hide this”, backend marks segment as low‑visibility; Mirror Core can still use it but cockpit won’t foreground it.

These operations correspond to small edits to node labels or importance weights, which then propagate through MPG dynamics as described (localize → roll up → project down).  [oai_citation:11‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### 3.4 Consent & sources

A dedicated **Privacy & Sources** screen:

- Toggles per scope:
  - Wearables, phone sensors, email, chat, calendar, audio, video, experimental tasks, etc.
- For each:
  - short explanation of what’s collected,
  - link to deeper docs.

Toggling a scope off:

- Immediately sends an API call to backend to:
  - mark the `(:Participant)-[:USES_SOURCE]` relationship as inactive,  
  - notify connectors to stop fetching (CR‑103).  [oai_citation:12‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

### 3.5 Interventions & policy preferences

UI for:

- “Allow **soft suggestions** only” vs “Allow **timing changes** (slowing decisions)” vs “No interventions”.  
- Per‑layer toggles:
  - Somatic nudges (e.g., “take a break”),
  - Symbolic (e.g., “show more context before deciding”),
  - Noetic (e.g., highlighting coherence episodes).

These settings translate into constraints for the **policy engine & meta‑policies** (CR‑007/008): which `InterventionType`s are permitted for the participant.  [oai_citation:13‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

---

## 4. Backend/API changes

Add endpoints (FastAPI):

- `GET /participant/{id}/summary` – returns:
  - recent Somatic summary, average coherence, list of top segments (with safe summaries), recent intuition episodes.  
- `GET /participant/{id}/segments/top` – returns top‑K segments with:
  - `id`, name, valence/intensity, confidence, importance, potency, rv flag.  [oai_citation:14‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- `POST /participant/{id}/segment_feedback` – user feedback (rename/hide/confirm) → updates MPG node labels/visibility metadata.  
- `GET/POST /participant/{id}/scopes` – read/write source consent.  
- `GET/POST /participant/{id}/intervention_prefs` – read/write allowed `InterventionType`s for this participant.

Ensure changes are:

- **versioned** as part of governance (link to MetaPolicy & MPG provenance),  
- auditable via `R(x)` reasoning and Evidence updates.  [oai_citation:15‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

---

## 5. Acceptance criteria for CR‑104

CR‑104 is complete when:

1. A KMP app build can:
   - show a daily summary (somatic + coherence) and recent episodes,
   - show an Intuition diary and let users annotate “felt intuitive” on MPG‑Intuitive trials,
   - list top MPG segments with summaries and basic feedback options.  
2. Consent and intervention settings in the cockpit are **persisted** and **enforced** by backend connectors & policy engine.  
3. Neo4j records user feedback as:
   - label/importance edits on `:MPGNode`/`:Segment`,
   - scope flags on `:USES_SOURCE`,
   - allowed action sets for policies (constraining N→S′ changes).  [oai_citation:16‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
4. A participant can:
   - see their intuition episodes,
   - control which data streams are active,
   - control which interventions are allowed—without touching raw logs.  

---

---

**Change Request: CR‑105 – Researcher / Clinician Console & Experiment Orchestration**

---

## 1. Objective

Provide **researchers and clinicians** with structured tools to:

1. Design and manage **LAIZA experiments** (system‑only and human), including preregistration and power analysis (CR‑009).  [oai_citation:17‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
2. Monitor participants’ **streams, coherence, MPG evolution, RVs, MUFS** in an aggregated, privacy‑respecting way.  [oai_citation:18‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
3. Oversee **policy & meta‑policy behavior**, intervene in governance decisions, and audit past changes.  [oai_citation:19‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

The console is the counterpart to the participant cockpit: it’s for **experimenters & clinicians**, not end‑users.

---

## 2. Scope

### In scope

- A web‑based **Researcher/Clinician UI**:
  - Experiment manager (create/clone configs, schedule runs, view status).
  - Participant view (status, scopes, participation in experiments).
  - MPG/RV/MUFS summaries (not raw PII content).
  - Policy/Meta‑policy dashboard (trust scores, actions, overrides).  [oai_citation:20‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Backend APIs & aggregation queries over Neo4j and experiment registry (CR‑009).
- Role‑based access control (RBAC) and auditing for researcher actions.

### Out of scope

- Fine‑grained MPG editing (only higher‑level operations and read‑only visualizations).  
- Integration with hospital EMRs; this CR stays research‑lab level.

---

## 3. UI modules

### 3.1 Experiment manager

Features:

- List **Experiments** and their `:ExperimentCondition`s & `:ExperimentRun`s (CR‑009).  
- Create new experiment by:
  - selecting a **config template** (E1, E2, E3),
  - editing basic parameters (N runs, N trials, seed ranges),
  - writing pre‑registration metadata (hypotheses, key metrics).  [oai_citation:21‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Start/stop runs, monitor progress (number of completed trials, participants enrolled).  
- View metrics per condition:
  - accuracy, calibration, coherence, MUFS incidence, RV ablation effects.

### 3.2 Participant overview

For each Participant:

- Basic metadata (alias, consent status, active scopes).  
- Stream health:
  - last event times per source,
  - somatic sample rates, missing data flags.  
- Experiment participation:
  - which sessions/trials they’ve done,  
  - self‑report completeness.

No raw messages/audio/video; only derived metrics and counts.

### 3.3 MPG/RV/MUFS dashboard

Visual panels:

- **Segment landscape**:
  - histograms of segment importance, confidence, Potency across participants.  [oai_citation:22‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- **RV view**:
  - list of Rogue segments/pathways (Definition 5–6), with Potency Index and summary.  [oai_citation:23‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- **MUFS view**:
  - MUFS incidence by awareness condition (full vs restricted),
  - distributions of MUFS size and type (IU/PU/MIX),
  - correlation of MUFS with correctness/coherence.  [oai_citation:24‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  

Researchers can filter by experiment, task type, awareness condition, or cohort.

### 3.4 Policy & meta‑policy console

From CR‑007/008:

- List `:MetaPolicy` and `:PolicyVersion` nodes with:
  - trust scores, status (LIVE/CANDIDATE/ROLLED_BACK), risk tier.  [oai_citation:25‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- For a chosen policy:
  - time series of rewards, coherence impact, override rate,
  - list of most frequent interventions and their outcomes.  
- Buttons (governance actions):
  - **Promote** candidate version to LIVE,
  - **Rollback** to previous version or SAFE baseline,
  - **Pause** policy (no automated interventions).

All actions require a rationale text field; stored as `R(x)` for the policy version change.

---

## 4. Backend/API changes

Add endpoints (auth‑protected):

- `/console/experiments/*` – CRUD for experiments, conditions, and scheduling runs.  
- `/console/participants/*` – read‑only summary; update of scopes only via **explicit consent recorded** in ethics docs.  
- `/console/mpg/overview` – aggregate statistics over `:Segment`, `:SegmentState`, RVs, MUFS, coherence.  
- `/console/policies/*` – list policies, versions, trust snapshots; promotion/rollback endpoints that update Neo4j and reconfigure live engines.

RBAC:

- Roles: `researcher`, `clinician`, `admin`.  
- Each endpoint checks role; writes are logged with `{who, what, when, why}`.

---

## 5. Ethics & governance hooks

The console must:

- Make **digital phenotyping risks** explicit in UI when enabling new scopes or experiments (link to ETHICS_PRIVACY docs).  [oai_citation:26‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Enforce **preregistration** for high‑stakes experiments:
  - require hypotheses & analysis plans before starting runs (store on `:Experiment`).  [oai_citation:27‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
- Provide a “Download anonymized dataset” flow that:
  - strips IDs,
  - aggregates/coarsens timestamps,
  - removes raw content fields.

---

## 6. Acceptance criteria for CR‑105

CR‑105 is complete when:

1. Researchers can use a web console to:
   - define experiments (E1–E3) and conditions,
   - launch runs,
   - monitor status and key metrics.  
2. MPG/RV/MUFS dashboards show:
   - segment statistics,
   - RV distributions & Potency,
   - MUFS incidence and its link to performance/coherence, all aggregated by condition.  [oai_citation:28‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
3. Policy/meta‑policy console allows:
   - promoting, rolling back, pausing policy versions,
   - viewing trust metrics and override rates,  
   with all changes logged in Neo4j.  [oai_citation:29‡Symbiotic_human_AI_architecture.pdf](sediment://file_000000000db071f49f637b00e8081106)  
4. RBAC is enforced; no console user can see raw emails/chats/audio/video content, only derived features & aggregates.  
5. At least one full experimental cycle (e.g., E1 MPG‑Intuition with human participants) can be:
   - configured,
   - run,
   - analyzed,
   entirely from the console + existing notebooks.

---

If you’d like another layer after this, a natural **CR‑106** would be to formalize a **clinically‑oriented “guided mode”**: templates and workflows for therapists/coaches using H3LIX in sessions (with very tight safety, supervision, and guardrails), built on top of the cockpit + console you now have.
